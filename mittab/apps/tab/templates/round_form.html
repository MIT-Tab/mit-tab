{% load widget_tweaks %}

{% if form.errors %}
  <div class="alert alert-danger">
    Please correct the error{{ form.errors|pluralize }} below.
  </div>
{% endif %}

  <script type="text/javascript" src="/dynamic-media/jsi18n/"></script>

  {{ form.media }}

  {{ form.non_field_errors }}

  {# Include the hidden fields #}
{% for hidden in form.hidden_fields %}
  {{ hidden }}
{% endfor %}

  <div class="row">
    {{ form.winner.errors }}
    <div class="form-group col-6">
      {{ form.winner.label_tag }}
      {% render_field form.winner class="form-control" %}
      <div class="mt-2">
        <div class="hidden winner" data-option=0>Please select a winner</div>
        <div class="hidden winner alert alert-info" data-option=1>
            The Government team has won.  Enter speaks and ranks
            normally.
        </div>
        <div class="hidden winner alert alert-info" data-option=2>
            The Opposition team has won. Enter speaks and ranks
            normally
        </div>
        <div class="hidden winner alert alert-info" data-option=3>
            The Government team has won via forfeit. Enter speaks of
            zero and arbitrary ranks for all debaters. The winning team
            will receive average speaks and ranks for this round. 
            The losing team will receive speaks of zero and ranks of 7,
            although you can give them non zero speaks if you wish.
            Do <b>not</b> give speaks to the winning team.
        </div>
        <div class="hidden winner alert alert-info" data-option=4>
            The Opposition team has won via forfeit. Enter speaks of
            zero and arbitrary ranks for all debaters. The winning team
            will receive average speaks and ranks for this round. 
            The losing team will receive speaks of zero and ranks of 7,
            although you can give them non zero speaks if you wish.
            Do <b>not</b> give speaks to the winning team.
        </div>
        <div class="hidden winner alert alert-info" data-option=5>
            Everyone lost this round (didn't show up?). Enter speaks of
            zero and arbitrary ranks. Both teams will receive speaks of
            zero and ranks of 7, although you can give them non zero
            speaks if you wish.  No averaging will occur, however.
        </div>
        <div class="hidden winner alert alert-info" data-option=6>
            Everyone won this round (judge didn't show up). Enter speaks
            of zero and arbitrary ranks. Both teams will receive average
            speaks and ranks for this round. Do <b>not</b> give speaks
            greater than zero to either team.
        </div>
      </div>
    </div>
    {% if form.ballot_code %}
    <div class="form-group col-6">
      {{ form.ballot_code.errors }}
      {{ form.ballot_code.label_tag }}
      {% render_field form.ballot_code class="form-control" %}
    </div>
    {% endif %}
  </div>


  <div class="row">
  <div class="col-6">
    <div class="card">
      <div class="card-header">
        Government: {{ gov_team.name }}
      </div>

      <div class="card-body">
        <div class="gov">
          <div class="pm row pb-1 border-bottom">
            <div class="col-12 form-group">
              {{ form.pm_debater.errors }}
              {{ form.pm_debater.label_tag }}
              {% render_field form.pm_debater class="form-control" %}
            </div>

            <div class="speaks col-6 form-group">
              {{ form.pm_speaks.errors }}
              {{ form.pm_speaks.label_tag }}
              {% render_field form.pm_speaks class="form-control" step="1" %}
            </div>

            <div class="ranks col-6 form-group">
              {{ form.pm_ranks.errors }}
              {{ form.pm_ranks.label_tag }}
              {% render_field form.pm_ranks class="form-control" %}
            </div>
          </div>

          <div class="mg row pt-3">
            <div class="col-12 form-group">
              {{ form.mg_debater.errors }}
              {{ form.mg_debater.label_tag }}
              {% render_field form.mg_debater class="form-control" %}
            </div>

            <div class="speaks col-6 form-group">
              {{ form.mg_speaks.errors }}
              {{ form.mg_speaks.label_tag }}
              {% render_field form.mg_speaks class="form-control" step="1" %}
            </div>

            <div class="ranks col-6 form-group">
              {{ form.mg_ranks.errors }}
              {{ form.mg_ranks.label_tag }}
              {% render_field form.mg_ranks class="form-control" %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-6">
    <div class="card">
      <div class="card-header">
        Opposition: {{opp_team.name}}
      </div>
      <div class="card-body">
        <div class="opp">
          <div class="lo row pb-1 border-bottom">
            <div class="col-12 form-group">
              {{ form.lo_debater.errors }}
              {{ form.lo_debater.label_tag }}
              {% render_field form.lo_debater class="form-control" %}
            </div>

            <div class="speaks col-6 form-group">
              {{ form.lo_speaks.errors }}
              {{ form.lo_speaks.label_tag }}
              {% render_field form.lo_speaks class="form-control" step="1" %}
            </div>

            <div class="ranks col-6 form-group">
              {{ form.lo_ranks.errors }}
              {{ form.lo_ranks.label_tag }}
              {% render_field form.lo_ranks class="form-control" %}
            </div>
          </div>

          <div class="mo row pt-3">
            <div class="col-12 form-group">
              {{ form.mo_debater.errors }}
              {{ form.mo_debater.label_tag }}
              {% render_field form.mo_debater class="form-control" %}
            </div>

            <div class="speaks col-6 form-group">
              {{ form.mo_speaks.errors }}
              {{ form.mo_speaks.label_tag }}
              {% render_field form.mo_speaks class="form-control" step="1" %}
            </div>

            <div class="ranks col-6 form-group">
              {{ form.mo_ranks.errors }}
              {{ form.mo_ranks.label_tag }}
              {% render_field form.mo_ranks class="form-control" %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
