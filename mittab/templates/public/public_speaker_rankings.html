{% extends "base/__wide.html" %}
{% load render_bundle from webpack_loader %}

{% block extra_head %}
    {% render_bundle 'publicDisplay' %}
{% endblock %}

{% block content %}
<div class="col-12 public-table-root">
  <div class="public-table-header">
    <h1>Speaker Rankings</h1>
  </div>

  {% if show_varsity %}
  <section class="mb-5">
    <h3>Varsity Speakers</h3>
    {% if not varsity_show_scores %}
      <div class="alert alert-secondary" role="status">
        Speaks and ranks are hidden for this section.
      </div>
    {% endif %}
    <div class="public-table-wrap rounded-lg">
      <table class="table table-striped table-sm table-bordered mb-0">
        <thead>
          <tr>
            <th>#</th>
            <th>Speaker</th>
            <th>Team</th>
            {% if varsity_show_scores %}
            <th>Speaks</th>
            <th>Ranks</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for row in varsity_rows %}
          <tr>
            <td>{{ row.place }}</td>
            <td>{{ row.debater.display }}</td>
            <td>{{ row.team.display_backend }}</td>
            {% if varsity_show_scores %}
            <td>{{ row.speaks|floatformat:2 }}</td>
            <td>{{ row.ranks|floatformat:2 }}</td>
            {% endif %}
          </tr>
          {% empty %}
          <tr>
            <td colspan="{% if varsity_show_scores %}5{% else %}3{% endif %}" class="text-center">
              No varsity speakers are available yet.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </section>
  {% endif %}

  {% if show_novice %}
  <section>
    <h3>Novice Speakers</h3>
    {% if not novice_show_scores %}
      <div class="alert alert-secondary" role="status">
        Speaks and ranks are hidden for this section.
      </div>
    {% endif %}
    <div class="public-table-wrap rounded-lg">
      <table class="table table-striped table-sm table-bordered mb-0">
        <thead>
          <tr>
            <th>#</th>
            <th>Speaker</th>
            <th>Team</th>
            {% if novice_show_scores %}
            <th>Speaks</th>
            <th>Ranks</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for row in novice_rows %}
          <tr>
            <td>{{ row.place }}</td>
            <td>{{ row.debater.display }}</td>
            <td>{{ row.team.display_backend }}</td>
            {% if novice_show_scores %}
            <td>{{ row.speaks|floatformat:2 }}</td>
            <td>{{ row.ranks|floatformat:2 }}</td>
            {% endif %}
          </tr>
          {% empty %}
          <tr>
            <td colspan="{% if novice_show_scores %}5{% else %}3{% endif %}" class="text-center">
              No novice speakers are available yet.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </section>
  {% endif %}
</div>
{% endblock %}
