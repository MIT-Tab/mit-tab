{% load tags %}

{% if form.errors %}
  <div class="alert alert-danger">
    Please correct the error{{ form.errors|pluralize }} below.
    {% if form.non_field_errors %}
      <ul class="mb-0">
        {% for error in form.non_field_errors %}
          <li>{{ error }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  </div>
{% endif %}

{{ form.media }}

{% for hidden in form.hidden_fields %}
  {{ hidden }}
{% endfor %}

<div class="row">
  <div class="form-group col-md-6">
    {{ form.winner|bs5_field }}
    <div class="mt-2">
      <div class="hidden winner" data-option=0>Please select a winner</div>
      <div class="hidden winner alert alert-info" data-option=1>
          The Government team has won.  Enter speaks and ranks
          normally.
      </div>
      <div class="hidden winner alert alert-info" data-option=2>
          The Opposition team has won. Enter speaks and ranks
          normally
      </div>
      <div class="hidden winner alert alert-info" data-option=3>
          The Government team has won via forfeit. Enter speaks of
          zero and arbitrary ranks for all debaters. The winning team
          will receive average speaks and ranks for this round. 
          The losing team will receive speaks of zero and ranks of 7,
          although you can give them non zero speaks if you wish.
      </div>
      <div class="hidden winner alert alert-info" data-option=4>
          The Opposition team has won via forfeit. Enter speaks of
          zero and arbitrary ranks for all debaters. The winning team
          will receive average speaks and ranks for this round. 
          The losing team will receive speaks of zero and ranks of 7,
          although you can give them non zero speaks if you wish.
      </div>
      <div class="hidden winner alert alert-info" data-option=5>
          Everyone lost this round (didn't show up?). Enter speaks of
          zero and arbitrary ranks. Both teams will receive speaks of
          zero and ranks of 7, although you can give them non zero
          speaks if you wish.  No averaging will occur, however.
      </div>
      <div class="hidden winner alert alert-info" data-option=6>
          Everyone won this round (judge didn't show up). Enter speaks
          of zero and arbitrary ranks. Both teams will receive average
          speaks and ranks for this round. Do <b>not</b> give speaks
          greater than zero to either team.
      </div>
    </div>
  </div>
  {% if form.ballot_code %}
  <div class="form-group col-md-6">
    {{ form.ballot_code|bs5_field }}
  </div>
  {% endif %}
</div>


<div class="row">
<div class="col-md-6">
  <div class="card">
    <div class="card-header">
      Government: {{ gov_team.display }}
    </div>

    <div class="card-body">
      <div class="gov">
        <div class="pm row pb-1 border-bottom">
          <div class="col-12 form-group">
            {{ form.pm_debater|bs5_field }}
          </div>

          <div class="speaks col-md-6 form-group">
            {{ form.pm_speaks|bs5_field }}
          </div>

          <div class="ranks col-md-6 form-group">
            {{ form.pm_ranks|bs5_field }}
          </div>
        </div>

        <div class="mg row pt-3">
          <div class="col-12 form-group">
            {{ form.mg_debater|bs5_field }}
          </div>

          <div class="speaks col-md-6 form-group">
            {{ form.mg_speaks|bs5_field }}
          </div>

          <div class="ranks col-md-6 form-group">
            {{ form.mg_ranks|bs5_field }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-md-6">
  <div class="card">
    <div class="card-header">
      Opposition: {{opp_team.display}}
    </div>
    <div class="card-body">
      <div class="opp">
        <div class="lo row pb-1 border-bottom">
          <div class="col-12 form-group">
            {{ form.lo_debater|bs5_field }}
          </div>

          <div class="speaks col-md-6 form-group">
            {{ form.lo_speaks|bs5_field }}
          </div>

          <div class="ranks col-md-6 form-group">
            {{ form.lo_ranks|bs5_field }}
          </div>
        </div>

        <div class="mo row pt-3">
          <div class="col-12 form-group">
            {{ form.mo_debater|bs5_field }}
          </div>

          <div class="speaks col-md-6 form-group">
            {{ form.mo_speaks|bs5_field }}
          </div>

          <div class="ranks col-md-6 form-group">
            {{ form.mo_ranks|bs5_field }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
