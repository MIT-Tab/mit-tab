language: python
dist: xenial
python:
  - "3.4"
# command to install dependencies
install:
 - sudo apt-cache show sqlite3~travis1
 - 'echo $(python -c "import sqlite3; print(sqlite3.version); print(sqlite3.sqlite_version)")'
 - "sqlite3 --version"
 - "pip3 install ."
 - "pip3 install -r requirements.txt"
 - ln --symbolic /usr/lib/chromium-browser/chromedriver "${HOME}/bin/chromedriver"
# command to run tests
script:
  - ./bin/setup password
  - travis_wait 35 coverage run --source=. manage.py test
after_success: coveralls
addons:
  chrome: stable
  apt:
    sources:
      - travis-ci/sqlite3
    packages:
      - chromium-chromedriver
#      - sqlite3.25.3.1-1~travis1
